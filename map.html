<!DOCTYPE html>
<html>
  <head>
    <title>Prototype Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/main.css" rel="stylesheet" media="screen">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div id="map" style="height: 300px;">
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-2.0.3.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
     <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJkw77K08umeOtYm8HnDRiWlyRGuzkJl8&sensor=false">
    </script>
    <script type="text/javascript">
    var map;
    function initialize() {
      var mapOptions = {
        center: new google.maps.LatLng( 38.04548406664232,275.3912882270813),
        zoom: 12,
        mapTypeId: google.maps.MapTypeId.SATELLITE
      };
      map = new google.maps.Map(document.getElementById("map"),
          mapOptions);

    //   var kmlLayer = new google.maps.KmlLayer({
    //     url: 'http://mapsengine.google.com/map/kml?mid=z-KSz345Pf_Y.ki1Dj7vL_Ggo',
    //     suppressInfoWindows: true,
    //     map: map
    //     });

    
      var show_car_circles = {};
      
      show_car_circles['vintage'] = {
          center: new google.maps.LatLng(38.04802039474226, -84.59692597389221)
      };
      show_car_circles['antique'] = {
          center: new google.maps.LatLng(38.0479024027373, -84.5967449247837)
      };
      show_car_circles['early_mustang'] = {
          center: new google.maps.LatLng(38.047848634165646,-84.5971231162548)
      };
      show_car_circles['mustang_future'] = {
          center: new google.maps.LatLng(38.047708238264555,-84.5969407260418)
      };
      show_car_circles['preservation'] = {
          center: new google.maps.LatLng(38.04764550809407,-84.59734976291656)
      };
      show_car_circles['mustang_gen'] = {
          center: new google.maps.LatLng(38.04754095769048,-84.59710970520973)
      };
      show_car_circles['sports_classics'] = {
          center: new google.maps.LatLng(38.04749913748724,-84.59640562534332)
      };
      show_car_circles['collector_foreign'] = {
          center: new google.maps.LatLng(38.04763654663676,-84.5961856842041)
      };
      show_car_circles['mini'] = {
          center: new google.maps.LatLng(38.047779929822156,-84.59595501422882)
      };
      show_car_circles['amer_perform'] = {
          center: new google.maps.LatLng(38.04720042105508,-84.59563314914703)
      };
      show_car_circles['collect_closed'] = {
          center: new google.maps.LatLng(38.04754693200327,-84.59549903869629)
      };
      show_car_circles['collect_open'] = {
          center: new google.maps.LatLng(38.04711678023568,-84.59532737731934)
      };
      show_car_circles['future_classics'] = {
          center: new google.maps.LatLng(38.04746926589887,-84.59517180919647)
      };
      
      var car_circle;
      
      for (var car in show_car_circles) {
    var showCarOptions = {
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#FF0000',
      fillOpacity: 0.35,
      map: map,
      center: show_car_circles[car].center,
      radius: 11
    };
    // Add the circle for this to the map.
    car_circle = new google.maps.Circle(showCarOptions);
      }
    
    var car_club_coord = [
        new google.maps.LatLng(38.04724224142897, -84.59852457046509),
        new google.maps.LatLng(38.047397574037056, -84.59839582443237),
        new google.maps.LatLng(38.04731393344289, -84.59823489189148),
        new google.maps.LatLng(38.04709288284114, -84.59707617759705),
        new google.maps.LatLng(38.04726016443903, -84.59697961807251),
        new google.maps.LatLng(38.047167562173136, -84.5967435836792)
        ]
        
        var car_club_path = new google.maps.Polyline({
    path: car_club_coord,
    geodesic: true,
    strokeColor: '#777777',
    strokeOpacity: 1.0,
    strokeWeight: 4
  });
  
  car_club_path.setMap(map);
  
  var gen_parking;
  var vip_parking;
  var handicap_parking;
  
  var car_club_area;
  
  var vip_parking_coord = [
     new google.maps.LatLng(38.049578170092, -84.598878622055),
     new google.maps.LatLng(38.048998675559, -84.5977360010),
     new google.maps.LatLng(38.04945868705889, -84.59762334823608)
   ]
  
  var gen_parking_coord = [
    new google.maps.LatLng(38.04871628272468, -84.59940433502197),
    new google.maps.LatLng(38.04858955033168, -84.59783792495728),
    new google.maps.LatLng(38.048976021267194, -84.59770917892456),
    new google.maps.LatLng(38.049578170092, -84.598878622055)
    ];
    
    var handicap_parking_coord = [
    new google.maps.LatLng(38.04969167879324,-84.59658801555634),
    new google.maps.LatLng(38.04932725549697, -84.59672212600708),
    new google.maps.LatLng(38.049231668758274,-84.59639489650726),
    new google.maps.LatLng(38.04960804082008,-84.59625542163849)
    ];
    
    var car_club_coord = [
    new google.maps.LatLng(38.04758875217923,-84.59769308567047),
    new google.maps.LatLng(38.04704508802866, -84.5979505777359),
    new google.maps.LatLng(38.04598164538086, -84.59456026554108),
    new google.maps.LatLng(38.04705106238194, -84.5941150188446),
    new google.maps.LatLng(38.047278087444695, -84.59454417228699),
    new google.maps.LatLng(38.04683598535729, -84.59520936012268),
    new google.maps.LatLng(38.04758875217923, -84.59769308567047)
    ];
    
    gen_parking = new google.maps.Polygon({
    paths: gen_parking_coord,
    strokeColor: '#0BA9CC',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: '#0BA9CC',
    fillOpacity: 0.15
  });
  
//   vip_parking = new google.maps.Polygon({
//     paths: vip_parking_coord,
//     strokeColor: '#0BA9CC',
//     strokeOpacity: 0.8,
//     strokeWeight: 2,
//     fillColor: '#0BA9CC',
//     fillOpacity: 0.35
//   });
  
   handicap_parking = new google.maps.Polygon({
    paths: handicap_parking_coord,
    strokeColor: '#0BA9CC',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: '#0BA9CC',
    fillOpacity: 0.35
  });
  
  car_club_area = new google.maps.Polygon({
    paths: car_club_coord,
    strokeColor: '#99FF33',
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: '#99FF33',
    fillOpacity: 0.35
  });
  
  gen_parking.setMap(map);
//   vip_parking.setMap(map);
  handicap_parking.setMap(map);
  car_club_area.setMap(map);
  
  var program_sales = new google.maps.Marker({
    position: new google.maps.LatLng(38.0484012537138, -84.59620714187622),
    title:"Program Sales"
});;

program_sales.setMap(map);
  
  var car_club_pos = {};
  
  car_club_pos['bmw_club'] = {
      pos: new google.maps.LatLng(38.04713624341897, -84.594447612762),
      club_name:'BMW'
  };
  car_club_pos['miata_club'] = {
      pos: new google.maps.LatLng(38.04694506409528, -84.59453344345093),
      club_name:'Miata'
  };
  car_club_pos['corvair_club'] = {
      pos: new google.maps.LatLng(38.04693311537097, -84.59471583366394),
      club_name:'Corvair'
  };
  car_club_pos['italian_club'] = {
      pos: new google.maps.LatLng(38.046712063619644, -84.59480702877045),
      club_name:'Italian'
  };
  car_club_pos['viper_club'] = {
      pos: new google.maps.LatLng(38.04648503680181, -84.59495186805),
      club_name:'Viper'
  };
  car_club_pos['cobra_club'] = {
      pos: new google.maps.LatLng(38.0466284222426, -84.5956438779831),
      club_name:'Cobra'
  };
  car_club_pos['porsche_club'] = {
      pos: new google.maps.LatLng(38.046873371720736, -84.59648072719574),
      club_name:'Porsche'
  };
  car_club_pos['corvette_club'] = {
      pos: new google.maps.LatLng(38.047273653250464, -84.59720492362976),
      club_name:'Corvette'
  };
  car_club_pos['mustang_club'] = {
      pos: new google.maps.LatLng(38.04739313985023, -84.59764480590),
      club_name:'Mustang'
  };
  
  var car_club_marker;
  
  for(var club in car_club_pos){
      var markOpt = {
      map:map,
      position: car_club_pos[club].pos,
      title: car_club_pos[club].club_name
      };
      
      car_club_marker = new google.maps.Marker(markOpt);
  }

      
      if(navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          var pos = new google.maps.LatLng(position.coords.latitude,
                                           position.coords.longitude);

          marker = new google.maps.Marker({
            map:map,
            animation: google.maps.Animation.DROP,
            position: pos
          });

          map.setCenter(pos);
        }, function() {
          handleNoGeolocation(true);
        });
      } else {
        // Browser doesn't support Geolocation
        handleNoGeolocation(false);
      }
    }

    function handleNoGeolocation(errorFlag) {
      if (errorFlag) {
        var content = 'Error: The Geolocation service failed.';
      } else {
        var content = 'Error: Your browser doesn\'t support geolocation.';
      }

      var options = {
        map: map,
        position: new google.maps.LatLng(38.04548406664232,275.3912882270813),
        content: content
      };
      
      

      var infowindow = new google.maps.InfoWindow(options);
      map.setCenter(options.position);
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </body>
</html>


